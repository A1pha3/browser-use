---
title: "后续任务"
description: "使用相同的浏览器会话进行后续任务。"
icon: "link"
mode: "wide"
---

## 链式代理任务

保持浏览器会话活跃，将多个任务链接在一起。非常适合对话式工作流或多步骤流程。

```python
from dotenv import load_dotenv

from browser_use import Agent, Browser


load_dotenv()

import asyncio


async def main():
	browser = Browser(keep_alive=True)

	await browser.start()

	agent = Agent(task='搜索 browser-use。', browser_session=browser)
	await agent.run(max_steps=2)
	agent.add_new_task('返回第一个结果的标题')
	await agent.run()

	await browser.kill()

asyncio.run(main())
```

## 工作原理

1. **持久化浏览器**: `BrowserProfile(keep_alive=True)` 防止浏览器在任务之间关闭
2. **任务链式连接**: 使用 `agent.add_new_task()` 添加后续任务
3. **上下文保留**: 代理在任务之间保持内存和浏览器状态
4. **交互式流程**: 非常适合对话式界面
5. **分解长流程**: 如果您有非常长的流程，可以保持浏览器活跃并向其发送新的代理

<Note>
  浏览器会话在整个链中保持活动状态，保留所有 cookie、本地存储和页面状态。
</Note>
